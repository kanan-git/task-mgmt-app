<!-- ALLOWING STATIC FILES -->
{% load static %}

<!-- ELEMENTS OF THE CONTROL BAR -->
<div style="display: flex; justify-content: space-around; align-items: center; background-color: rgb(200,200,200); min-height: 50px;"> <!-- . -->
    <div>
        <button onclick={ToggleFilterPanel()}>
            FILTER
            <img src="{% static 'img/icons/filter-svgrepo-com.svg' %}" alt="filter" style="width: 30px;"> <!-- . -->
        </button> <!-- filter button, show or hide filter aside (done or incomplete or work in progress, category, added time, update time, point, type, ...) -->
    </div>

    <div style="display: flex; align-items: center; justify-content: space-between; gap: 5px;">
        <input type="search" id="search_input" placeholder="Search for tasks" style="outline: none; border: 1px solid rgb(160,160,160); border-radius: 20px; width: 500px; height: 40px; padding: 5px 10px;">
        <input type="submit" id="search_btn" value="" onclick={SearchForTasks()}>
    </div>

    <div style="display: flex; align-items: center; gap: 10px;">
        <form method="post" id="sort_direction_btn">
            {% csrf_token %}
            {% if sort_direction == 'ascending' %}
                <button type="submit" value="descending" name="direction">
                    <img src="{% static 'img/icons/sort-from-top-to-bottom-svgrepo-com.svg' %}" alt="sort_by" style="width: 30px;" id="sort_direct_ico">
                </button>
            {% elif sort_direction == 'descending' %}
                <button type="submit" value="ascending" name="direction">
                    <img src="{% static 'img/icons/sort-from-bottom-to-top-svgrepo-com.svg' %}" alt="sort_by" style="width: 30px;" id="sort_direct_ico">
                </button>
            {% endif %}
        </form>
    
        <label for="sort_by" onclick={SortTasksBy()} style="display: flex; gap: 5px; align-items: center;">
            <b> Sort by: </b>
            <form method="post">
                {% csrf_token %}
                <select name="sort_by" id="sort_by">
                    <option value="updated_time"> Update Time </option>
                    <option value="added_time"> Added Time </option>
                    <option value="todo"> Alphabet </option>
                    <option value="priority_level"> Priority Point </option>
                </select>
                <button type="submit"> Sort </button>
            </form>
        </label>

        <form id="select_view" method="post">
            {% csrf_token %}
            {% if view_mode == 'grid_cards' %}
                <button type="submit" value="grid_cards" name="view">
                    <img src="{% static 'img/icons/grid-view-svgrepo-com.svg' %}" alt="grid_view" style="width: 30px;" id="select_view_ico">
                </button>
            {% elif view_mode == 'list_cards' %}
                <button type="submit" value="list_cards" name="view">
                    <img src="{% static 'img/icons/view-list-bullet-rtl-svgrepo-com.svg' %}" alt="list_view" style="width: 30px;" id="select_view_ico">
                </button>
            {% endif %}
        </form> <!-- view modes button (grid or list) -->
    </div>
 </div>